<!DOCTYPE html>
<meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
<style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>

<%= form_tag("/venues/#{@group.id}", method: "post") do %>
<%= select("post", "event_id", @group.events.collect {|p| [ p.name, p.id ]}, {include_blank: true}) %>

<% @venues.each do |venue| %>
  <h3><%= venue["name"]%></h3>
  <p><%= venue["location"]["address"] %></p>
  <%= check_box_tag 'venue_ids[]' , "#{venue['name']}?#{venue['location']['address']}"%>
  <% end %>


<%= submit_tag("Add Restaurants to Event") %>
<% end %>
<div id="map"></div>
<script>
      function initMap() {
        var myLatLng = {lat: <%= @x %>, lng: <%= @y %>};
        var map = new google.maps.Map(document.getElementById('map'), {
          center: myLatLng,
          zoom: 15
        });
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map
        });
        marker.setMap(map);
      }
    </script>
    <script src="<%= @url %>" async defer></script>
</body>